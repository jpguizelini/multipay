
generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model Tenant {
  id    String @id @default(uuid())
  name  String
  apiKey String @unique
  createdAt DateTime @default(now())

  payments Payment[]
}

model Payment {
  id                String   @id @default(uuid())
  tenantId          String
  tenant            Tenant   @relation(fields: [tenantId], references: [id])

  provider          PaymentProvider
  amount            Int      
  currency          String   
  status            PaymentStatus
  providerPaymentId String   @unique
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

enum PaymentProvider {
  STRIPE
}

enum PaymentStatus {
  PENDING
  SUCCEEDED
  FAILED
}

